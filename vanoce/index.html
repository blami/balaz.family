<!doctype html>
<html lang="cz">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Merry Christmas 2021</title>
    <meta name="description" content="Balaz family Christmas card for Winter 2021">
    <meta name="author" content="Dagmar + Ondrej Balazovi">
    <link rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
    <link rel="icon" href="favicon.ico">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100&display=swap" rel="stylesheet">
    <style>
      body {
	  background: #00072d;
      }
      .card {
	  position: absolute;
      }
      .card {
	  width: 90%;
	  top: 30%;
	  left: 50%;
	  -moz-transform: translateX(-50%) translateY(-30%);
	  -webkit-transform: translateX(-50%) translateY(-30%);
	  transform: translateX(-50%) translateY(-30%);	  
      }
      @media only screen and (min-width: 768px) {
	  .card {
	      width: auto;
	      height: 60%;
	      top: 50%;
	      left: 50%;
	      -moz-transform: translateX(-50%) translateY(-50%);
	      -webkit-transform: translateX(-50%) translateY(-50%);
	      transform: translateX(-50%) translateY(-50%);
	  }
      }
      #text {
	  font-family: "Noto Sans JP", sans-serif;
	  font-size: 3rem;
	  fill: #951b19;
      }
      .flake {
	  fill: #fff;
	  fill-opacity: 1;
      }
      @keyframes fall {
	  100% {
	      transform: translateY(90%);
	      fill-opacity: 0;
	  }
      }
    </style>
  </head>
  <body>
    <svg class="card" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800" preserveAspectRatio="xMinYMin meet" >
      <svg id="sky" data-name="sky" viewBox="0 0 2846.15 2846.15">
	<defs>
	  <style>.sky-color-1{fill:url(#linear-gradient);}.sky-color-2{fill:url(#linear-gradient-2);}.sky-color-3{fill:none;stroke-miterlimit:10;}.sky-color-3,.sky-color-4{stroke:#f7f7f7;stroke-width:3px;}.sky-color-4{fill:#f7f7f7;stroke-linecap:round;stroke-linejoin:round;}</style>
	  <linearGradient id="linear-gradient" x1="1423.08" y1="2545" x2="1423.08" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#0e6ba8"/><stop offset="1" stop-color="#00072d"/></linearGradient>
	  <linearGradient id="linear-gradient-2" x1="1500" y1="2923.08" x2="1500" y2="1839.5" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e8e8e8"/><stop offset="1" stop-color="#f7f7f7"/></linearGradient>
	</defs>
	<polygon class="sky-color-1" points="2846.16 1762.58 1925.54 2545 0 1886.16 0 0 2846.16 0 2846.16 1762.58"/><path class="sky-color-2" d="M76.92,2923.08H2923.08V1839.5s-508.65,120.63-955.4,120.63S1132.12,1847.52,751,1847.52,76.92,1960.13,76.92,1960.13Z" transform="translate(-76.92 -76.92)"/><line class="sky-color-3" x1="213.47" y1="0.15" x2="213.47" y2="503.43"/><line class="sky-color-3" x1="729.02" y1="0.15" x2="729.02" y2="777.42"/><line class="sky-color-3" x1="1113.88" x2="1113.88" y2="356.63"/><line class="sky-color-3" x1="1927.83" x2="1927.83" y2="659.67"/><line class="sky-color-3" x1="2195.7" x2="2195.7" y2="1090.65"/><line class="sky-color-3" x1="2613.35" x2="2613.35" y2="441.26"/><line class="sky-color-3" x1="450.93" y1="0.15" x2="450.93" y2="984.12"/><polygon class="sky-color-4" points="218.65 538.18 245.87 526.52 223.66 546.84 244.16 566.33 218.68 555.5 213.74 596.85 208.68 555.52 176.49 569.31 203.66 546.87 179.41 531.01 208.65 538.2 213.58 496.85 218.65 538.18"/><polygon class="sky-color-4" points="455.99 1014.73 483.21 1003.06 461.01 1023.38 481.5 1042.87 456.02 1032.05 451.09 1073.39 446.02 1032.06 413.84 1045.85 441.01 1023.41 416.76 1007.55 445.99 1014.74 450.93 973.39 455.99 1014.73"/><polygon class="sky-color-4" points="734.1 814.75 761.34 803.09 739.13 823.4 759.65 842.91 734.14 832.07 729.22 873.43 724.13 832.08 691.92 845.86 719.11 823.42 694.83 807.55 724.09 814.76 729.01 773.4 734.1 814.75"/><polygon class="sky-color-4" points="1119.01 388 1146.32 376.38 1124.06 396.67 1144.7 416.25 1119.08 405.34 1114.23 446.74 1109.03 405.33 1076.74 419.06 1103.97 396.65 1079.58 380.71 1108.96 387.99 1113.81 346.59 1119.01 388"/><polygon class="sky-color-4" points="1933.02 693.35 1960.33 681.74 1938.08 702.03 1958.72 721.6 1933.09 710.7 1928.24 752.09 1923.05 710.69 1890.75 724.41 1917.99 702.01 1893.59 686.07 1922.98 693.34 1927.83 651.94 1933.02 693.35"/><polygon class="sky-color-4" points="2200.98 1115.66 2228.35 1104.08 2206.07 1124.35 2226.79 1143.97 2201.08 1133.02 2196.28 1174.45 2191.01 1133 2158.65 1146.69 2185.92 1124.3 2161.44 1108.31 2190.91 1115.63 2195.71 1074.21 2200.98 1115.66"/><polygon class="sky-color-4" points="2618.63 474 2646 462.42 2623.72 482.7 2644.44 502.32 2618.73 491.37 2613.93 532.79 2608.66 491.34 2576.3 505.03 2603.57 482.65 2579.09 466.65 2608.56 473.98 2613.36 432.55 2618.63 474"/>
      </svg> 
      <svg id="tree" data-name="tree" preserveAspectRatio="xMinYMax meet" viewBox="0 0 2846.15 2096.19">
	<defs>
	  <style>.tree-color-1{fill:#a0cfa6;}.tree-color-2{fill:#267d5f;}.tree-color-3{fill:#deb846;}.tree-color-4{fill:#951b19;}.tree-color-5{fill:#f00001;}.tree-color-6{fill:#fff;}.tree-color-7{fill:url(#linear-gradient-3);}</style>
	  <linearGradient id="linear-gradient-3" x1="1500" y1="2923.08" x2="1500" y2="2491.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e8e8e8"/><stop offset="1" stop-color="#f7f7f7"/></linearGradient>
	</defs>
	<polygon class="tree-color-1" points="1434.47 1770.8 619.09 1770.8 985.82 1197.65 844.85 1197.65 1236.38 623.58 1101.29 624.38 1434.47 194.64 1434.47 1770.8"/><polygon class="tree-color-2" points="1434.47 624.5 1767.8 624.5 1656.74 481.22 1434.47 481.22 1434.47 624.5"/><polygon class="tree-color-2" points="1434.47 624.5 1101.14 624.5 1212.21 481.22 1434.47 481.22 1434.47 624.5"/><polygon class="tree-color-2" points="1434.47 337.93 1545.57 337.93 1434.47 194.64 1434.47 337.93"/><polygon class="tree-color-2" points="1434.47 337.93 1323.38 337.93 1434.47 194.64 1434.47 337.93"/><polygon class="tree-color-2" points="1434.47 911.08 1040.3 911.08 1138.03 767.79 1434.47 767.79 1434.47 911.08"/><polygon class="tree-color-2" points="1434.47 1197.65 2024.19 1197.65 1926.37 1054.37 1434.47 1054.37 1434.47 1197.65"/><polygon class="tree-color-2" points="1434.47 1197.65 844.75 1197.65 942.58 1054.37 1434.47 1054.37 1434.47 1197.65"/><polygon class="tree-color-2" points="1434.47 1484.23 2066.33 1484.23 1974.81 1340.94 1434.47 1340.94 1434.47 1484.23"/><polygon class="tree-color-2" points="1434.47 1484.23 802.62 1484.23 894.13 1340.94 1434.47 1340.94 1434.47 1484.23"/><polygon class="tree-color-2" points="2158.21 1627.51 1434.47 1627.51 1434.47 1770.8 2249.86 1770.8 2158.21 1627.51"/><polygon class="tree-color-2" points="1434.47 1770.8 619.09 1770.8 710.74 1627.51 1434.47 1627.51 1434.47 1770.8"/><polygon class="tree-color-2" points="1434.47 911.08 1828.64 911.08 1730.92 767.79 1434.47 767.79 1434.47 911.08"/><path class="tree-color-3" d="M1513.81,828.64l9.58,101.61a2.2,2.2,0,0,0,2.49,1.72l60.46-27.26a2.21,2.21,0,0,1,2.06,3.57L1536,953.09a2.2,2.2,0,0,0,0,2.76l61.56,47.68a2.22,2.22,0,0,1-2.07,3.58l-71.33-35.05a2.22,2.22,0,0,0-2.45,1.55l-7.92,89.1a2.22,2.22,0,0,1-4.24,0l-8.7-87.91a2.21,2.21,0,0,0-2.79-1.46l-62.5,32.14a2.21,2.21,0,0,1-2.36-3.54l54.4-46.23a2.23,2.23,0,0,0,0-2.89L1421.61,895a2.21,2.21,0,0,1,2.55-3.49l73.66,40.5a2.21,2.21,0,0,0,3-1.57l8.62-101.82A2.21,2.21,0,0,1,1513.81,828.64Z" transform="translate(-76.92 -826.89)"/><path class="tree-color-4" d="M1237.8,2300c0,35.76-53.54,56.89-53.54,56.89a56.9,56.9,0,0,1,0-113.79S1237.8,2264.27,1237.8,2300Z" transform="translate(-76.92 -826.89)"/><path class="tree-color-5" d="M1241.16,2300a56.9,56.9,0,0,1-56.9,56.89V2243.14A56.91,56.91,0,0,1,1241.16,2300Z" transform="translate(-76.92 -826.89)"/><circle class="tree-color-6" cx="1129.53" cy="1448.86" r="12.65"/><path class="tree-color-4" d="M1859.79,2017c0,35.76-53.53,56.89-53.53,56.89a56.89,56.89,0,1,1,0-113.78S1859.79,1981.25,1859.79,2017Z" transform="translate(-76.92 -826.89)"/><path class="tree-color-5" d="M1863.15,2017a56.89,56.89,0,0,1-56.89,56.89V1960.13A56.89,56.89,0,0,1,1863.15,2017Z" transform="translate(-76.92 -826.89)"/><circle class="tree-color-6" cx="1751.52" cy="1165.85" r="12.65"/><path class="tree-color-4" d="M1461.39,1451.89c0,35.76-53.54,56.89-53.54,56.89a56.89,56.89,0,0,1,0-113.78S1461.39,1416.12,1461.39,1451.89Z" transform="translate(-76.92 -826.89)"/><path class="tree-color-5" d="M1464.74,1451.89a56.89,56.89,0,0,1-56.89,56.89V1395A56.89,56.89,0,0,1,1464.74,1451.89Z" transform="translate(-76.92 -826.89)"/><circle class="tree-color-6" cx="1353.12" cy="600.72" r="12.65"/><path class="tree-color-7" d="M2923.08,2923.08H76.92V2521.13s353.77,61.48,800.52,61.48,863.93-91.6,1245.08-91.6,800.56,106.68,800.56,106.68Z" transform="translate(-76.92 -826.89)"/>
      </svg>
      <text id="text" x="50%" y="94%" dominant-baseline="middle" text-anchor="middle"></text>
    </svg>
    <script>
      var lang = window.navigator.userLanguage || window.navigator.language;
      location.search.substr(1).split("&").forEach(function(i) {
	  if(i.split("=")[0] === "lang") lang = i.split("=")[1];
      })
      var text = "Merry Christmas"
      switch(lang) {
      case "cs-CZ":
	  text = "Veselé vánoce"; break;
      case "ja-JP":
	  text = "メリークリスマス"; break;
      case "fr-FR":
      case "fr-BE":
      case "fr-CH":
      case "fr-LU":
      case "fr-MC":
      case "fr-CA":
	  text = "Joyeux Noël"; break;
      case "nl-NL":
      case "nl-BE":
	  text = "Vrolijk Kerstfeest"; break;
      case "de-DE":
      case "de-CH":
      case "de-AT":
	  text = "Frohe Weihnachten"; break;
      }
      document.title = text + " 2021";
      document.querySelector("#text").innerHTML = text;
            
      setInterval(function() {
	  var where = document.querySelector(Math.random() < 0.5 ? "#tree" : "#sky");
	  var timeout = Math.random() * 50 + 20;
	  var flake = document.createElementNS("http://www.w3.org/2000/svg", "circle");
	  var opacity = Math.random() * (1 - 0.6) + 0.6;
	  flake.setAttribute("class", "flake");
	  flake.setAttribute("cx", (Math.random() * 99)  + "%");
	  flake.setAttribute("cy", -1 * (Math.floor(Math.random() * 10 + 5)) + "px");
	  flake.setAttribute("r", Math.random() * 3 + 2);
	  flake.setAttribute("style", "animation:fall " + timeout + "s linear 1; fill-opacity: " + opacity);
	  flake.addEventListener('animationend', function(e) {
	      this.remove();
	  });
	  where.parentNode.insertBefore(flake, where.nextSibling);
      }, 200);
    </script>
  </body>
</html>
